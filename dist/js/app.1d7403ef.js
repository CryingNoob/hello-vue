(function(e){function t(t){for(var s,i,o=t[0],c=t[1],u=t[2],d=0,m=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&m.push(r[i][0]),r[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);l&&l(t);while(m.length)m.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],s=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(s=!1)}s&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var s={},r={app:0},a=[];function i(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=s,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/hello-vue/dist/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"02c5":function(e,t,n){},"034f":function(e,t,n){"use strict";var s=n("85ec"),r=n.n(s);r.a},"03f0":function(e,t,n){"use strict";var s=n("f2e9"),r=n.n(s);r.a},"141e":function(e,t,n){"use strict";var s=n("d5a7"),r=n.n(s);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],i={name:"App",components:{}},o=i,c=(n("034f"),n("2877")),u=Object(c["a"])(o,r,a,!1,null,null,null),l=u.exports,d=n("8c4f"),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"main"}},[n("header",[n("TopMenu")],1),n("div",{staticClass:"menu-card"},[n("router-view")],1),e.hassignin?n("div",{staticClass:"login",on:{click:e.cancelsignin}},[n("form",{staticClass:"loginform",on:{submit:function(t){return t.preventDefault(),e.signIn(t)},click:e.loginform}},[n("h2",[e._v("登录表单")]),n("div",{staticClass:"inputItem"},[n("label",{attrs:{for:"username"}},[e._v("username")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",id:"username"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),n("div",{staticClass:"inputItem"},[n("label",{attrs:{for:"password"}},[e._v("password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"text",id:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),n("button",[e._v("signin")]),n("p",[e._v("【username：“root”，password：“password”】")]),n("p",[e._v("【username：“one”，password：“one”】")]),n("p",[e._v("【username：“two”，password：“two”】")])])]):e._e(),e.hassignup?n("div",{staticClass:"login",on:{click:e.cancelsignup}},[n("form",{staticClass:"loginform",on:{submit:function(t){return t.preventDefault(),e.signUp(t)},click:e.loginform}},[n("h2",[e._v("注册表单(现不可用，未做数据持久化）")]),n("div",{staticClass:"inputItem"},[n("label",{attrs:{for:"username"}},[e._v("username")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",id:"username"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),n("div",{staticClass:"inputItem"},[n("label",{attrs:{for:"password"}},[e._v("password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"text",id:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),n("button",[e._v("signup")])])]):e._e(),e._v(" "+e._s(this.$store.state)+" ")])},p=[],f=n("bc3a"),v=n.n(f),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"topmenu"},[n("router-link",{attrs:{to:{name:"index"}}},[n("div",{staticClass:"logo"},[e._v(" Hello-Vue ")])]),n("ul",{staticClass:"ul"},[n("router-link",{attrs:{to:{name:"index"}}},[n("li",{staticClass:"list"},[e._v(" 首页 ")])]),n("router-link",{attrs:{to:{name:"column"}}},[n("li",{staticClass:"list"},[e._v(" 专栏 ")])]),n("router-link",{attrs:{to:{name:"list3"}}},[n("li",{staticClass:"list"},[e._v(" LIST3 ")])])],1),n("div",{staticClass:"search"},[n("SearchBox")],1),e.haslogin?n("div",{staticClass:"user"},[n("div",{staticClass:"usericon"},[e._v(" "+e._s(this.$store.state.user.username)+" ")])]):n("div",{staticClass:"user"},[n("ul",[n("li",{staticClass:"list",on:{click:e.showsignup}},[e._v("免费注册")]),n("li",{staticClass:"list",on:{click:e.showsignin}},[e._v("立即登录")])])])],1)},_=[],g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"searchbox"},[n("div",{staticClass:"formbox"},[n("form",{staticClass:"myform",on:{submit:function(t){return t.preventDefault(),e.alertKeyWord(t)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.keyword,expression:"keyword"}],attrs:{type:"text",placeholder:"搜索关键字"},domProps:{value:e.keyword},on:{input:function(t){t.target.composing||(e.keyword=t.target.value)}}}),n("button",[e._v("Search")])])])])},w=[],b={name:"SearchBox",data:function(){return{keyword:""}},methods:{alertKeyWord:function(){""!==this.keyword?alert(this.keyword):alert("请输入搜索关键字！")}}},k=b,x=(n("705a"),Object(c["a"])(k,g,w,!1,null,"62f1687a",null)),y=x.exports,C={name:"TopMenu",components:{SearchBox:y},data:function(){return{}},computed:{haslogin:function(){return this.$store.state.user.haslogin}},methods:{showsignin:function(){this.$store.commit("editsignin")},showsignup:function(){this.$store.commit("editsignup")}}},$=C,O=(n("03f0"),Object(c["a"])($,h,_,!1,null,"4eef90ea",null)),j=O.exports,S={name:"Main",components:{TopMenu:j},data:function(){return{username:"",password:""}},created:function(){var e=this;v.a.get("/article/articles").then((function(t){e.$store.commit("initialArticles",t.data)})).catch((function(e){console.log(e)}))},computed:{hassignin:function(){return this.$store.state.user.hassignin},hassignup:function(){return this.$store.state.user.hassignup}},methods:{loginform:function(e){e.stopPropagation()},cancelsignin:function(){this.$store.commit("editsignin"),this.username="",this.password=""},cancelsignup:function(){this.$store.commit("editsignup"),this.username="",this.password=""},signIn:function(){var e=this;v.a.post("/user/signin",{username:e.username,password:e.password}).then((function(t){if(console.log(t.data),t.data){var n={userid:t.data.userid,username:t.data.username,password:t.data.password};e.$store.commit("editlogin",n)}else alert("用户名或密码错误！");e.cancelsignin()})).catch((function(t){console.log(t),alert("登录失败！"),e.cancelsignin()}))}}},P=S,A=(n("8971"),Object(c["a"])(P,m,p,!1,null,"f706afd8",null)),E=A.exports,I=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},M=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"index"},[n("h1",[e._v("首页")])])}],T={name:"Index"},N=T,L=Object(c["a"])(N,I,M,!1,null,"ceb2106c",null),J=L.exports,B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"column"},[n("h1",{staticStyle:{"text-align":"center"}},[e._v("Column Component")]),e._l(e.articles,(function(t,s){return n("div",{key:s,staticClass:"articleItem"},[n("div",{staticClass:"articleTitle"},[e._v(" "+e._s(t.article_title)+" ")]),n("div",{staticClass:"articleAuthor"},[e._v(" author:"+e._s(t.article_author)+" ")]),n("div",{staticClass:"articleContent"},[e._v(" "+e._s(t.article_content)+" ")]),n("div",{class:{like:!0,liked:e.haslogin&&-1!=e.myliked.indexOf(t.article_id)},on:{click:function(n){return e.likeArticle(t.article_id,s)}}},[e._v(" "+e._s(t.like_number)+" ")])])}))],2)},D=[],R=(n("c975"),{name:"Column",data:function(){return{}},computed:{haslogin:function(){return this.$store.state.user.haslogin},myliked:function(){var e=this.$store.state.user.userid;return this.$store.getters.myLikedArticles(e)},articles:function(){return this.$store.state.article.articles}},methods:{likeArticle:function(e,t){if(this.$store.state.user.haslogin){var n=!1;-1!=this.myliked.indexOf(e)&&(n=!0);var s={user:{userid:0,username:"root",password:"password"},index:t,article_id:e,isliked:n};this.$store.commit("likeArticle",s),console.log(this.$store.getters.myLikedArticles(0))}else alert("请先登录")}}}),K=R,U=(n("141e"),Object(c["a"])(K,B,D,!1,null,"fe82e5c8",null)),W=U.exports,H=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},V=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"c"},[n("h1",[e._v("C")])])}],q={name:"C"},z=q,F=Object(c["a"])(z,H,V,!1,null,"6ea05b0b",null),G=F.exports;s["a"].use(d["a"]);for(var Q=new d["a"]({routes:[{path:"/",redirect:"/main/index"},{path:"/main",component:E,children:[{path:"index",name:"index",component:J},{path:"column",name:"column",component:W},{path:"list3",name:"list3",component:G}]}]}),X=n("96eb"),Y=n.n(X),Z=Y.a.Random,ee=[],te=0;te<8;te++){var ne={info:Z.sentence(5,6)};ee.push(ne)}var se=ee,re=[];re.push({userid:0,username:"root",password:"password"}),re.push({userid:1,username:"one",password:"one"}),re.push({userid:2,username:"two",password:"two"});var ae=re,ie=[];ie.push({tag_id:0,tag_name:"前端"}),ie.push({tag_id:1,tag_name:"html5"}),ie.push({tag_id:2,tag_name:"css3"}),ie.push({tag_id:3,tag_name:"vue"}),ie.push({tag_id:4,tag_name:"react"});for(var oe=ie,ce=Y.a.Random,ue=[],le=1;le<=10;le++){var de={article_id:le,article_title:"第"+le+"篇专栏文章",article_author:ae[0].username,article_tag:[oe[le%2],oe[le%3]],article_date:ce.date(),article_content:ce.csentence(200,500),like_number:3,like_users:[ae[0],ae[1],ae[2]],comment_number:2,comment_content:[{comment_id:1,comment_content:ce.csentence(10,20),userid:ae[0].userid,username:ae[0].username},{comment_id:2,comment_content:ce.csentence(20,30),userid:ae[1].userid,username:ae[1].username}],collect_number:ce.natural(0,5)};ue.push(de)}for(var me=11;me<=20;me++){var pe={article_id:me,article_title:"第"+me+"篇专栏文章",article_author:ae[1].username,article_tag:[oe[me%2],oe[me%3]],article_date:ce.date(),article_content:ce.csentence(200,500),like_number:1,like_users:[ae[2]],comment_number:2,comment_content:[{comment_id:1,comment_content:ce.csentence(10,20),userid:ae[2].userid,username:ae[2].username}],collect_number:ce.natural(0,5)};ue.push(pe)}var fe=ue,ve="http://mockjs.com/api";Y.a.mock("".concat(ve,"/boardlist"),"get",se),Y.a.mock("".concat(ve,"/user/signin"),"post",(function(e){for(var t=JSON.parse(e.body).username,n=JSON.parse(e.body).password,s={},r=0;r<ae.length;r++){var a=ae[r];a.username==t&&a.password==n&&(s=ae[r])}return s})),Y.a.mock("".concat(ve,"/article/articles"),"get",fe);n("ed2c");var he=n("2f62"),_e=(n("a434"),n("2909")),ge={state:{articles:[]},getters:{myLikedArticles:function(e){return function(t){for(var n=[],s=0;s<e.articles.length;s++)for(var r=0;r<e.articles[s].like_users.length;r++)if(e.articles[s].like_users[r].userid==t){n.push(e.articles[s].article_id);break}return n}}},mutations:{initialArticles:function(e,t){e.articles=Object(_e["a"])(t)},likeArticle:function(e,t){if(console.log(t),t.isliked){e.articles[t.index].like_number--;for(var n=0;n<e.articles[t.index].like_users.length;n++)if(e.articles[t.index].like_users[n].userid==t.user.userid){e.articles[t.index].like_users.splice(n,1);break}}else e.articles[t.index].like_number++,e.articles[t.index].like_users.push(t.user)}}},we=ge,be={state:{haslogin:!1,hassignin:!1,hassignup:!1,avatar:"",userid:0,username:"",password:""},mutations:{editlogin:function(e,t){e.haslogin=!0,e.userid=t.userid,e.username=t.username,e.password=t.password},editsignin:function(e){e.hassignin=!e.hassignin},editsignup:function(e){e.hassignup=!e.hassignup}}},ke=be;s["a"].use(he["a"]);var xe=new he["a"].Store({modules:{article:we,user:ke}}),ye=xe;v.a.defaults.baseURL="http://mockjs.com/api",s["a"].config.productionTip=!1,new s["a"]({router:Q,store:ye,render:function(e){return e(l)}}).$mount("#app")},"705a":function(e,t,n){"use strict";var s=n("bff3"),r=n.n(s);r.a},"85ec":function(e,t,n){},8971:function(e,t,n){"use strict";var s=n("02c5"),r=n.n(s);r.a},bff3:function(e,t,n){},d5a7:function(e,t,n){},ed2c:function(e,t,n){},f2e9:function(e,t,n){}});
//# sourceMappingURL=app.1d7403ef.js.map